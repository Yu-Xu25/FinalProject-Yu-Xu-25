<!DOCTYPE html>
<html lang="en">

<head>
    <title>Home Page</title>
    <meta charset="UTF-8">
</head>

<body>
    {% if current_user.is_authenticated %}
    <h1>Welcome back, {{ current_user.username }}!</h1>

    <!-- Link to profile -->
    <p><a href="{{ url_for('profile') }}">Go to Profile</a></p>
    <p><a href="{{ url_for('logout')}}">Log Out</a></p>

    {% if alert %}
    <div style="color: red;">
        <strong>Weather Alert: {{ alert }}</strong>
    </div>
    {% endif %}

    <!-- Display the weather based on user's location -->
    <h2>Location: {{ location_name }}</h2>
    <p>Condition: {{ condition }}</p>
    <p>Temperature: {{ temperature }} 째C</p>
    <p>Feels Like Temperature: {{ feels_like }} 째C</p>
    <p>Wind Speed: {{ wind_speed }} km/h</p>
    <p>Precipitation: {{ precipitation }} mm</p>
    <p>Visibility: {{ visibility }} km</p>
    <p>UV Index: {{ uv_index }}</p>
    <p>Humidity: {{ humidity }}%</p>

    <!-- Customized Outfit Recommendations -->
    <h3>Recommended Outfit</h3>
    <ul>
        <li>Top: {{ recommendations.outfit.top.name if recommendations.outfit.top }}</li>
        <li>Bottom: {{ recommendations.outfit.bottom.name if recommendations.outfit.bottom }}</li>
        <li>Footwear: {{ recommendations.outfit.footwear.name if recommendations.outfit.footwear }}</li>
        <li>Outerwear: {{ recommendations.outfit.outerwear.name if recommendations.outfit.outerwear }}</li>
    </ul>

    <h3>Optional Recommendations</h3>
    <ul>
        {% if recommendations.optional_outfit.precipitation %}
        <li>Precipitation Protection: {{ recommendations.optional_outfit.precipitation.name }}</li>
        {% endif %}
        {% if recommendations.optional_outfit.wind_protection %}
        <li>Wind Protection: {{ recommendations.optional_outfit.wind_protection.name }}</li>
        {% endif %}
        {% if recommendations.optional_outfit.uv_protection %}
        <li>UV Protection: {{ recommendations.optional_outfit.uv_protection.name }}</li>
        {% endif %}
    </ul>

    <h3>Notes</h3>
    <ul>
        {% for message in recommendations.messages %}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>


    {% else %}
    <!-- Default message and weather info for unauthenticated users -->
    <h1>Welcome to the Weather & Outfit Recommendation System!</h1>

    <p> To get personalized recommendations, please
        <a href="{{ url_for('login') }}">Log in</a> or <a href="{{ url_for('register') }}">Sign up</a>!
    </p>

    <!-- Weather Info for Chicago -->
    <h2>Chicago</h2>
    <p>Condition: {{ condition }}</p>
    <p>Temperature: {{ temperature }} 째C</p>
    <p>Feels Like Temperature: {{ feels_like }} 째C</p>
    <p>Wind Speed: {{ wind_speed }} km/h</p>
    <p>Precipitation: {{ precipitation }} mm</p>
    <p>Visibility: {{ visibility }} km</p>
    <p>UV Index: {{ uv_index }}</p>
    <p>Humidity: {{ humidity }}%</p>

    <!-- Default Outfit Recommendations -->
    <h3>Recommended Outfit</h3>
    <ul>
        <li>Top: {{ recommendations.outfit.top.name if recommendations.outfit.top }}</li>
        <li>Bottom: {{ recommendations.outfit.bottom.name if recommendations.outfit.bottom }}</li>
        <li>Footwear: {{ recommendations.outfit.footwear.name if recommendations.outfit.footwear }}</li>
        <li>Outerwear: {{ recommendations.outfit.outerwear.name if recommendations.outfit.outerwear }}</li>
    </ul>

    <h3>Optional Recommendations</h3>
    <ul>
        {% if recommendations.optional_outfit.precipitation %}
        <li>Precipitation Protection: {{ recommendations.optional_outfit.precipitation.name }}</li>
        {% endif %}
        {% if recommendations.optional_outfit.wind_protection %}
        <li>Wind Protection: {{ recommendations.optional_outfit.wind_protection.name }}</li>
        {% endif %}
        {% if recommendations.optional_outfit.uv_protection %}
        <li>UV Protection: {{ recommendations.optional_outfit.uv_protection.name }}</li>
        {% endif %}
    </ul>

    <h3>Notes</h3>
    <ul>
        {% for message in recommendations.messages %}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>


    {% endif %}
</body>

</html>